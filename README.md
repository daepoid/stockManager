# ë§¤ì¥ ë‚´ ìƒí’ˆ ì£¼ë¬¸ ë° ì¬ê³  ê´€ë¦¬
Store stock management

## ëª©ì°¨
- [ê°œë°œ ë°°ê²½](#ê°œë°œ-ë°°ê²½)
- [ê¸°ëŠ¥ ì„¤ëª…](#ê¸°ëŠ¥-ì„¤ëª…)
  - [ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤](#ì‚¬ìš©-ì‹œë‚˜ë¦¬ì˜¤)
  - [API ì‚¬ìš©ë²•](#api-ì‚¬ìš©ë²•)
  - [Swagger](#swagger)
- [Key Summary](#key-summary)
- [Folder Structure](#folder-structure)
- [Backend Architecture](#backend-architecture)
- [DB Schema](#db-schema)
- [ì„¤ì¹˜ ë°©ë²•](#ì„¤ì¹˜-ë°©ë²•)
- [ì‹¤í–‰ ë°©ë²•](#ì‹¤í–‰-ë°©ë²•)
  - [Docker](#docker)
- [í–¥í›„ ì¶”ê°€í•  ê¸°ëŠ¥](#í–¥í›„-ì¶”ê°€í• -ê¸°ëŠ¥)
- [ì°¸ê³ ìë£Œ](#ì°¸ê³ ìë£Œ)


### ê°œë°œ ë°°ê²½
- ì›¹ í˜ì´ì§€ì— ë©”ë‰´íŒì„ êµ¬ì„±í•˜ì—¬ ì¼ë°˜ì ì¸ ì‹¤ë¬¼ ë©”ë‰´íŒê³¼ ë‹¤ë¥¸ ì´ì ì„ ê³ ê°ë“¤ì—ê²Œ ì œê³µí•  ìˆ˜ ìˆë‹¤.
- ì›¹ í˜ì´ì§€ì—ì„œ ë©”ë‰´ í™•ì¸ê³¼ ì£¼ë¬¸ì´ ê°€ëŠ¥í•˜ë‹¤.
- ì‹¤ë¬¼ ë©”ë‰´íŒê³¼ ë‹¬ë¦¬ ë©”ë‰´ë¥¼ ì˜ìƒìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆì–´ ë©”ë‰´ì— ëŒ€í•œ ì™¸í˜•ì„ ê³ ê°ë“¤ì´ ë” ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤.
- ì‹¤ë¬¼ ë©”ë‰´íŒì— ë¹„í•´ ë§ì€ ì–‘ì˜ ì •ë³´ë¥¼ ì œê³µí•˜ê¸° ìˆ˜ì›”í•˜ë‹¤.
  - ì•Œë ˆë¥´ê¸° ë¬¼ì§ˆì´ë‚˜, ì›ì‚°ì§€ í‘œì‹œ ì •ë³´ í‘œê¸°
  - ê¸°ì¡´ì—ëŠ” ì˜ë¬´ì ìœ¼ë¡œ ì •ë³´ë¥¼ ê³ ì§€í–ˆìœ¼ë‚˜ ê°ê°ì˜ ë©”ë‰´ì— ëŒ€í•´ ìì„¸í•˜ê²Œ ì•Œ ìˆ˜ ì—†ëŠ” ê²½ìš°ë„ ìˆì—ˆê³ , ì¼ê´„ì ìœ¼ë¡œ ê¸°ì…ë˜ì–´ ì¬í™•ì¸ì´ í•„ìš”í–ˆë‹¤.
  - ë“±ë¡ëœ ë ˆì‹œí”¼ë¥¼ í†µí•´ ê°œë³„ ë©”ë‰´ë§ˆë‹¤ ìì„¸í•œ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.


### ê¸°ëŠ¥ ì„¤ëª…


#### ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

ê³ ê°
- ê¸°ë³¸ ì‹œë‚˜ë¦¬ì˜¤
  1. ê³ ê°ì´ ë§¤ì¥ì— ë°©ë¬¸í•œ í›„ ìë¦¬ì— ì•‰ëŠ”ë‹¤.
  2. ê³ ê°ì˜ ìŠ¤ë§ˆíŠ¸í°ìœ¼ë¡œ í…Œì´ë¸”ì— ìˆëŠ” QRì½”ë“œë¥¼ ì´¬ì˜í•œë‹¤.
  3. QRì½”ë“œì˜ ì •ë³´ë¡œ ê³ ê°ì€ ì›¹í˜ì´ì§€ì— ìë™ìœ¼ë¡œ ë¡œê·¸ì¸í•œë‹¤.
  4. ê³ ê°ì´ ë©”ë‰´ë¥¼ í™•ì¸í•œë‹¤.
  5. ê³ ê°ì´ ì¥ë°”êµ¬ë‹ˆì— ì£¼ë¬¸í•  ì œí’ˆë“¤ì„ ì¶”ê°€í•œë‹¤.
  6. ê³ ê°ì´ ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì—ì„œ ì£¼ë¬¸ì„ ì‹œì‘í•œë‹¤.
  7. ì£¼ë¬¸í•˜ê³ ì í•˜ëŠ” ë©”ë‰´ì™€ ìˆ˜ëŸ‰ì„ ë‹¤ì‹œ í™•ì¸í•˜ê³  ê²°ì œí˜ì´ì§€ë¡œ ë„˜ì–´ê°„ë‹¤.
  8. ê²°ì œí˜ì´ì§€ì—ì„œ ê²°ì œê°€ ì™„ë£Œëœë‹¤.


#### API ì‚¬ìš©ë²•


#### Swagger

Swagger 3.0.0 ì‚¬ìš©ì„ ìœ„í•´ì„œëŠ” 2.9.2 ë²„ì „ì—ì„œ ë³€ê²½ë˜ëŠ” ë¶€ë¶„ì´ ìˆë‹¤.

```gradle
implementation group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.9.2'
implementation group: 'io.springfox', name: 'springfox-swagger2', version: '2.9.2'
```

```gradle
implementation group: 'io.springfox', name: 'springfox-boot-starter', version: '3.0.0'
implementation group: 'io.springfox', name: 'springfox-swagger-ui', version: '3.0.0'
```

springfox-swagger2 ëŒ€ì‹ ì— springfox-boot-starterë¥¼ ì‚¬ìš©í•œë‹¤.

SwaggerConfigì—ì„œ @EnableSwagger2 ëŒ€ì‹  @EnableWebMVCë¥¼ ì‚¬ìš©í•œë‹¤.

Swagger ì ‘ì† URLì´ localhost:8080/swagger-ui.htmlì—ì„œ localhost:8080/swagger-ui/index.htmlë¡œ ë³€ê²½ë˜ì—ˆë‹¤.


### Key Summary

í¬íŠ¸í´ë¦¬ì˜¤ì—ì„œ ê°•ì¡°í•˜ê³  ì‹¶ì€ ë‚´ìš©ë“¤ì„ ì ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìœ ë‹›í…ŒìŠ¤íŠ¸ Code coverage ê°€ 100%ë¼ë©´ ì ì–´ë„ ë©ë‹ˆë‹¤.


### Folder Structure ì†Œê°œ

```bash
â”œâ”€â”€ ../logs
â”œâ”€â”€ stockManager
â”‚    â”œâ”€â”€ api
â”‚    â”‚    â””â”€â”€ dto
â”‚    â”‚         â”œâ”€â”€ customer
â”‚    â”‚         â”œâ”€â”€ duty
â”‚    â”‚         â”œâ”€â”€ ingredient
â”‚    â”‚         â”œâ”€â”€ item
â”‚    â”‚         â”œâ”€â”€ member
â”‚    â”‚         â”œâ”€â”€ menu
â”‚    â”‚         â”œâ”€â”€ order
â”‚    â”‚         â””â”€â”€ recipe
â”‚    â”œâ”€â”€ config
â”‚    â”œâ”€â”€ controller
â”‚    â”‚    â”œâ”€â”€ dto
â”‚    â”‚    â”‚    â”œâ”€â”€ duty
â”‚    â”‚    â”‚    â”œâ”€â”€ item
â”‚    â”‚    â”‚    â”œâ”€â”€ member
â”‚    â”‚    â”‚    â”œâ”€â”€ order
â”‚    â”‚    â”‚    â””â”€â”€ recipe
â”‚    â”‚    â””â”€â”€ management
â”‚    â”œâ”€â”€ domain
â”‚    â”‚    â”œâ”€â”€ duty
â”‚    â”‚    â”œâ”€â”€ ingredient
â”‚    â”‚    â”œâ”€â”€ item
â”‚    â”‚    â”œâ”€â”€ member
â”‚    â”‚    â”œâ”€â”€ order
â”‚    â”‚    â”œâ”€â”€ recipe
â”‚    â”‚    â””â”€â”€ search
â”‚    â”œâ”€â”€ exception
â”‚    â”œâ”€â”€ handler
â”‚    â”œâ”€â”€ interceptor
â”‚    â”œâ”€â”€ repository
â”‚    â”‚    â”œâ”€â”€ jpa
â”‚    â”‚    â””â”€â”€ memory
â”‚    â”œâ”€â”€ resolver
â”‚    â”œâ”€â”€ service
â”‚    â””â”€â”€ testData
â”œâ”€â”€ ../Dockerfile
â”œâ”€â”€ ../build.gradle
â””â”€â”€ ../README.md
```

### Backend Architecture

- Java 11
- Spring MVC / Spring Boot:2.6.1
  - data jpa
  - thymeleaf
  - validation
  - web
  - security
- Swagger:3.0.0
  - Swagger:2.9.2ì—ì„œ ë°”ë€ŒëŠ” ë¶€ë¶„ë“¤ì´ ë‹¤ìŒ ë²„ì „ì˜ Swaggerì— ì ìš©ë  ê²ƒìœ¼ë¡œ íŒë‹¨ë˜ì–´ ë¯¸ë¦¬ ì ìš©í•˜ì˜€ë‹¤.
- Mysql 8.0


### DB Schema


ğŸ”§ìˆ˜ì • ì¤‘
![stockManager](https://user-images.githubusercontent.com/46220202/158642693-f1a28806-2e3b-4f9d-b986-b74a7c769c08.png)

### ì„¤ì¹˜ ë°©ë²•


#### docker


```docker
#í˜„ì¬ ê°€ì§€ê³  ìˆëŠ” ì´ë¯¸ì§€ í™•ì¸
docker images

# mysqlê³¼ stockManagerë¥¼ ì—°ê²°í•˜ê¸° ìœ„í•´ networkë¥¼ ìƒì„± 
docker network create stock-manager-network

```

```docker
# mysqlì„ ê°€ì ¸ì˜¨ë‹¤
docker pull mysql

# mysqlì„ mysql-containerë¼ëŠ” ì´ë¦„ì„ ê°–ëŠ” ì´ë¯¸ì§€ë¡œ ìƒì„±í•œë‹¤.
# ë™ì‹œì— ìœ„ì—ì„œ ìƒì„±í•œ stock-manager-networkì— ì—°ê²°í•œë‹¤.
docker run -dit --name mysql-container --network stock-manager-network mysql

# mysqlì— ì ‘ì†í•œë‹¤.
docker exec -it mysql-container bash

```

mysql ì ‘ì† ìƒí™©
```mysql

mysql -u root -p

Enter password : ë¹„ë°€ë²ˆí˜¸ 

# stockManager dbë¥¼ ìƒì„±í•œë‹¤.
create database stockManager;

```

```docker

docker pull daepoid/stock-manager

docker run -it --name app --network stock-manager-network -p 8080:8080 daepoid/stock-manager:0.1

docker network inspect stock-manager-network

```


### í–¥í›„ ì¶”ê°€í•  ê¸°ëŠ¥

- RestAPI ê¸°ì¤€ì— ë¶€í•©í•˜ë„ë¡ ì¶”ê°€ ë° ìˆ˜ì •
  - ~~Swagger ì‘ì„±~~
  - API ì˜ˆì™¸ì²˜ë¦¬ ë° ì¸ì¦
- ~~cart ë¥¼ entity ì—ì„œ embedded ë¡œ ë³€ê²½~~
- ~~customer ì™€ member ì˜ ê³µí†µ ë¶€ë¶„ì„ ì¶”ì¶œí•˜ê³  ì´ë¥¼ ìƒì†í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½~~
- í…Œì´ë¸”ì— ìˆëŠ” QR ì½”ë“œë¥¼ ì´ìš©í•˜ì—¬ ë¡œê·¸ì¸ vs ê°œì¸ ì•„ì´ë””ë¥¼ í†µí•´ ë¡œê·¸ì¸
  - ë§¤ì¥ ë‚´ì˜ í…Œì´ë¸” ë§ˆë‹¤ ê³ ìœ  ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ í†µí•´ ì£¼ë¬¸ì„ ë°›ëŠ” ê²ƒì´ ê³ ê°ì˜ ê°œì¸ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒ ë³´ë‹¤ í¸ë¦¬í•¨
  - ê·¸ëŸ¬ë‚˜ ì™¸ë¶€ í™˜ê²½ì—ì„œ í—ˆìœ„ ì£¼ë¬¸ì´ë‚˜ ì£¼ë¬¸ ë‚´ì—­ì— ëŒ€í•œ ë¶€ì¸ë°©ì§€ ì¥ì¹˜ê°€ ìš”êµ¬ë¨
  - ì˜ˆ) ì£¼ë¬¸ê³¼ ë™ì‹œì— ê²°ì œí•˜ëŠ” ë°©ì‹
- ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸°
- ì œí’ˆì˜ ì„¸ë¶€ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” í˜ì´ì§€ ì¶”ê°€
  - ì œí’ˆì˜ ì‚¬ì§„, ì•Œë ˆë¥´ê¸° ì •ë³´ ë“±ë“±..
- ì œí’ˆ ì£¼ë¬¸ ì‹œ ê´€ë¦¬ìì—ê²Œ ì•Œë¦¼ ì „ì†¡
- ê´€ë¦¬ìì—ê²Œ ì œí’ˆ íŒë§¤ ì •ë³´ë¥¼ ì œê³µ (íŒë§¤ëŸ‰, ìˆœìˆ˜ìµ, ..)
- ~~ê²€ìƒ‰ ê¸°ëŠ¥ ì¶”ê°€ (ì¬ê³ , ë ˆì‹œí”¼, ë©”ë‰´, ê³ ê°, ì§ì›, ì§ë¬´, íŒë§¤ ê¸°ë¡...)~~
  - ~~SQL ì„ ì´ìš©í•œ ê²€ìƒ‰ ê¸°ëŠ¥ìœ¼ë¡œ ê°œë°œ~~
  - ì¶”í›„ ë³€ê²½
- ë‹¤ì–‘í•œ í…ŒìŠ¤íŠ¸ ì‹œí–‰
  - í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 100%
- ~~docker ì‚¬ìš©í•˜ë„ë¡ ì„¤ì •~~
- ~~ì†Œì…œ ë¡œê·¸ì¸~~
  - êµ¬í˜„í•œ ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ ëª©ì ì— ë§ë‹¤ê³  íŒë‹¨í•˜ì—¬ ì¶”ê°€ í•˜ì§€ ì•ŠìŒ
- ~~aws, ë°°í¬ ìë™í™”~~
- ëŒ“ê¸€, í‰ì  ë“±ì˜ ê¸°ëŠ¥ ì¶”ê°€
- ë¦¬íŒ©í† ë§
- í˜ì´ì§•
- Spring Data Jpa + QueryDSL ë¡œ ë³€ê²½
- JPA ìµœì í™”


### ì°¸ê³ ìë£Œ

[Swagger 2.9.2 -> 3.0.0 ë§ˆì´ê·¸ë ˆì´ì…˜](https://nahwasa.com/entry/%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8-Swagger-UI-292-300-%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98-%EB%B0%A9%EB%B2%95-Spring-Boot-Swagger-UI)